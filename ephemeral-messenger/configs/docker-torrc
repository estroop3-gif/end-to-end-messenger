# Tor configuration for Docker deployment
# Ephemeral Messenger Docker Tor Configuration

# Basic settings
SocksPort 0.0.0.0:9050
ControlPort 0.0.0.0:9051
HashedControlPassword 16:872860B76453A77D60CA2BB8C1A7042072093276A3D701AD684053EC4C
CookieAuthentication 1
CookieAuthFileGroupReadable 1

# Data directory
DataDirectory /tor-data

# Hidden service
HiddenServiceDir /tor-data/ephemeral-messenger
HiddenServiceVersion 3
HiddenServicePort 80 127.0.0.1:8080

# Security settings
AvoidDiskWrites 0  # Required for Docker persistence
DisableDebuggerAttachment 1
SafeLogging 1

# Logging
Log notice file /tor-data/tor.log

# Performance
NumCPUs 1
KeepalivePeriod 60

# Circuit management
NewCircuitPeriod 30
MaxCircuitDirtiness 600

# Exit policy - no exit traffic
ExitPolicy reject *:*